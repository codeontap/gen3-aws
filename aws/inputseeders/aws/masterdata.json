{
    "Environments": {
        "alm": {
            "Operations": {
                "FlowLogs": {
                    "Expiration": 7
                }
            }
        },
        "alpha": {
            "Operations": {
                "FlowLogs": {
                    "Expiration": 2
                }
            }
        },
        "beta": {
            "Operations": {
                "FlowLogs": {
                    "Expiration": 7
                }
            }
        },
        "int": {
            "Operations": {
                "FlowLogs": {
                    "Expiration": 7
                }
            }
        },
        "aat": {
            "Operations": {
                "FlowLogs": {
                    "Expiration": 7
                }
            }
        },
        "uat": {
            "Operations": {
                "FlowLogs": {
                    "Expiration": 7
                }
            }
        },
        "system": {
            "Operations": {
                "FlowLogs": {
                    "Expiration": 7
                }
            }
        },
        "preprod": {
            "Operations": {
                "FlowLogs": {
                    "Expiration": 7
                },
                "DeadLetterQueue": {
                    "MaxReceives": 13
                }
            }
        },
        "stg": {
            "Operations": {
                "FlowLogs": {
                    "Expiration": 7
                },
                "DeadLetterQueue": {
                    "MaxReceives": 13
                }
            }
        },
        "prod": {
            "Operations": {
                "FlowLogs": {
                    "Expiration": 7
                },
                "DeadLetterQueue": {
                    "MaxReceives": 13
                }
            }
        },
        "trn": {
            "Operations": {
                "FlowLogs": {
                    "Expiration": 7
                }
            }
        }
    },
    "Tiers": {
        "mgmt": {
            "Components": {
                "seg-cert": {
                    "DeploymentUnits": [
                        "cert"
                    ]
                },
                "seg-dns": {
                    "DeploymentUnits": [
                        "dns"
                    ],
                    "Enabled": false
                },
                "seg-dashboard": {
                    "DeploymentUnits": [
                        "dashboard"
                    ],
                    "Enabled": false
                },
                "baseline": {
                    "baseline": {
                        "deployment:Unit": "baseline",
                        "DataBuckets": {
                            "opsdata": {
                                "Role": "operations",
                                "Encryption": {
                                    "EncryptionSource": "LocalService"
                                },
                                "Lifecycles": {
                                    "flowlogs": {
                                        "Prefix": "VPCFlowLogs",
                                        "Expiration": "_flowlogs",
                                        "Offline": "_flowlogs"
                                    },
                                    "awslogs": {
                                        "Prefix": "AWSLogs",
                                        "Expiration": "_operations",
                                        "Offline": "_operations"
                                    },
                                    "cloudfront": {
                                        "Prefix": "CLOUDFRONTLogs",
                                        "Expiration": "_operations",
                                        "Offline": "_operations"
                                    },
                                    "docker": {
                                        "Prefix": "DOCKERLogs",
                                        "Expiration": "_operations",
                                        "Offline": "_operations"
                                    },
                                    "waf": {
                                        "Prefix": "WAF",
                                        "Expiration": "_operations",
                                        "Offline": "_operations"
                                    }
                                },
                                "Links": {
                                    "cf_key": {
                                        "Tier": "mgmt",
                                        "Component": "baseline",
                                        "Instance": "",
                                        "Version": "",
                                        "Key": "oai"
                                    }
                                }
                            },
                            "appdata": {
                                "Role": "appdata",
                                "Lifecycles": {
                                    "global": {
                                        "Expiration": "_data",
                                        "Offline": "_data"
                                    }
                                }
                            }
                        },
                        "Keys": {
                            "ssh": {
                                "Engine": "ssh"
                            },
                            "cmk": {
                                "Engine": "cmk",
                                "Extensions": [
                                    "_cmk_s3_access",
                                    "_cmk_ses_access",
                                    "_cmk_cloudfront_access"
                                ]
                            },
                            "oai": {
                                "Engine": "oai"
                            }
                        }
                    }
                },
                "ssh": {
                    "bastion": {
                        "deployment:Unit": "ssh",
                        "MultiAZ": true,
                        "AutoScaling": {
                            "DetailedMetrics": false,
                            "ActivityCooldown": 180,
                            "MinUpdateInstances": 0,
                            "AlwaysReplaceOnUpdate": false
                        }
                    }
                },
                "vpc": {
                    "network": {
                        "deployment:Unit": "vpc",
                        "deployment:Priority": 40,
                        "RouteTables": {
                            "internal": {},
                            "external": {
                                "Public": true
                            }
                        },
                        "NetworkACLs": {
                            "open": {
                                "Rules": {
                                    "in": {
                                        "Priority": 200,
                                        "Action": "allow",
                                        "Source": {
                                            "IPAddressGroups": [
                                                "_global"
                                            ]
                                        },
                                        "Destination": {
                                            "IPAddressGroups": [
                                                "_localnet"
                                            ],
                                            "Port": "any"
                                        },
                                        "ReturnTraffic": false
                                    },
                                    "out": {
                                        "Priority": 200,
                                        "Action": "allow",
                                        "Source": {
                                            "IPAddressGroups": [
                                                "_localnet"
                                            ]
                                        },
                                        "Destination": {
                                            "IPAddressGroups": [
                                                "_global"
                                            ],
                                            "Port": "any"
                                        },
                                        "ReturnTraffic": false
                                    }
                                }
                            }
                        }
                    }
                },
                "igw": {
                    "gateway": {
                        "deployment:Unit": "igw",
                        "Engine": "igw",
                        "Destinations": {
                            "default": {
                                "IPAddressGroups": "_global",
                                "Links": {
                                    "external": {
                                        "Tier": "mgmt",
                                        "Component": "vpc",
                                        "Version": "",
                                        "Instance": "",
                                        "RouteTable": "external"
                                    }
                                }
                            }
                        }
                    }
                },
                "nat": {
                    "gateway": {
                        "deployment:Unit": "nat",
                        "deployment:Priority": 75,
                        "Engine": "natgw",
                        "Destinations": {
                            "default": {
                                "IPAddressGroups": "_global",
                                "Links": {
                                    "internal": {
                                        "Tier": "mgmt",
                                        "Component": "vpc",
                                        "Version": "",
                                        "Instance": "",
                                        "RouteTable": "internal"
                                    }
                                }
                            }
                        }
                    }
                },
                "vpcendpoint": {
                    "gateway": {
                        "deployment:Unit": "vpcendpoint",
                        "deployment:Priority" : 110,
                        "Engine": "privateservice",
                        "DestinationPorts": [
                            "http",
                            "https"
                        ],
                        "Destinations": {
                            "default": {
                                "NetworkEndpointGroups": [
                                    "storage",
                                    "logs"
                                ],
                                "Links": {
                                    "internal": {
                                        "Tier": "mgmt",
                                        "Component": "vpc",
                                        "Version": "",
                                        "Instance": "",
                                        "RouteTable": "internal"
                                    },
                                    "external": {
                                        "Tier": "mgmt",
                                        "Component": "vpc",
                                        "Version": "",
                                        "Instance": "",
                                        "RouteTable": "external"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "gbl": {
            "Components": {
                "cfredirect": {
                    "lambda": {
                        "Instances": {
                            "default": {
                                "Versions": {
                                    "v1": {
                                        "deployment:Unit": "cfredirect-v1",
                                        "Enabled": false
                                    }
                                }
                            }
                        },
                        "Functions": {
                            "cfredirect": {
                                "DeploymentType": "EDGE",
                                "RunTime": "nodejs12.x",
                                "Memory": 128,
                                "Timeout": 1,
                                "FixedCodeVersion": {},
                                "Handler": "index.handler",
                                "VPCAccess": false,
                                "Permissions": {
                                    "Decrypt": false,
                                    "AsFile": false,
                                    "AppData": false,
                                    "AppPublic": false
                                },
                                "Extensions": [
                                    "_cfredirect-v1"
                                ],
                                "PredefineLogGroup": false
                            }
                        }
                    }
                }
            }
        }
    },
    "Ports": {
      "rdp": {
        "Port": 3389,
        "Protocol": "TCP",
        "IPProtocol": "tcp",
        "HealthCheck": {
          "HealthyThreshold": "3",
          "UnhealthyThreshold": "5",
          "Interval": "30",
          "Timeout": "5"
        }
      }
    },
    "Storage": {
        "default": {
            "EC2": {
                "Volumes": {
                    "codeontap": {
                        "Enabled" : true,
                        "Device": "/dev/sdp",
                        "Size": 30,
                        "MountPath" : "/codeontap"
                    },
                    "cache" : {
                        "Enabled" : false,
                        "Device" : "/dev/xvdc",
                        "Size" : 30,
                        "MountPath" : "/cache"
                    },
                    "temp" : {
                        "Enabled" : false,
                        "Device" : "/dev/xvdt",
                        "Size" : 30,
                        "MountPath" : "/temp"
                    }
                }
            },
            "ECS": {
                "Volumes" : {
                    "docker" : {
                        "Device" : "/dev/xvdcz",
                        "Size" : 50
                    },
                    "dockerVolume" : {
                        "Enabled" : false,
                        "Device" : "/dev/xvdv",
                        "Size" : 50,
                        "MountPath" : "/var/lib/docker/volumes"
                    }
                }
            },
            "ElasticSearch": {},
            "ComputeCluster": {},
            "bastion": {}
        },
        "ecs_awslinux2" : {
            "ECS" : {
                "Volumes" : {
                    "root" : {
                        "Device" : "/dev/xvda",
                        "Size" : 50
                    }
                }
            }
        },
        "ecs_awswin" : {
            "ECS" : {
                "Volumes": {
                    "root" : {
                        "Device" : "/dev/sda1",
                        "Size" : 50
                    }
                }
            }
        },
        "ec2_awswin" : {
            "EC2":{
                "Volumes": {
                    "root" : {
                        "Device" : "/dev/sda1",
                        "Size" : 40
                    },
                    "userdata" : {
                        "Enabled" : true,
                        "Device" : "xvdd",
                        "Size" : 50,
                        "MountPath" : "D"
                    },
                    "data": {
                        "Enabled" : false,
                        "Device": "xvdz",
                        "Size": 10,
                        "MountPath" : "c:\\esdata"
                    }
                }
            }
        }
    },
    "Processors": {
        "default": {
            "NAT": {
                "Processor": "t2.micro"
            },
            "bastion": {
                "Processor": "t2.micro"
            },
            "EC2": {
                "Processor": "t2.micro"
            },
            "EMR": {
                "Processor": "m4.large",
                "DesiredCorePerZone": 1,
                "DesiredTaskPerZone": 1
            },
            "ComputeCluster": {
                "Processor": "t2.micro",
                "MinPerZone": 1,
                "MaxPerZone": 1,
                "DesiredPerZone": 1
            },
            "ECS": {
                "Processor": "t2.medium",
                "MinPerZone": 1,
                "MaxPerZone": 1,
                "DesiredPerZone": 1
            },
            "ElastiCache": {
                "Processor": "cache.t2.micro",
                "CountPerZone": 1
            },
            "db": {
                "Processor": "db.t2.small"
            },
            "ddb": {
                "Processor": "db.t3.medium",
                "MinPerZone": 1,
                "MaxPerZone": 1,
                "DesiredPerZone": 1
            },
            "ElasticSearch": {
                "Processor": "t2.medium.elasticsearch",
                "CountPerZone": 1,
                "Master": {
                    "Processor": "t2.small.elasticsearch",
                    "Count": 0
                }
            },
            "service": {
                "DesiredPerZone": 1,
                "MinPerZone": 1,
                "MaxPerZone": 1
            }
        },
        "_awswin": {
            "bastion": {
                "Processor": "t3a.medium"
            },
            "EC2": {
                "Processor": "t3a.medium"
            },
            "EMR": {
                "Processor": "m5a.large",
                "DesiredCorePerZone": 1,
                "DesiredTaskPerZone": 1
            },
            "ComputeCluster": {
                "Processor": "t3a.medium",
                "MinPerZone": 1,
                "MaxPerZone": 1,
                "DesiredPerZone": 1
            },
            "ECS": {
                "Processor": "t3a.medium",
                "MinPerZone": 1,
                "MaxPerZone": 1,
                "DesiredPerZone": 1
            }
        }
    },
    "ComputeProviders": {
        "default": {
            "Containers": {
                "Default": {
                    "Provider": "_autoscalegroup",
                    "RequiredCount": 1
                }
            }
        },
        "fargate": {
            "Containers": {
                "Default": {
                    "Provider": "aws:fargate",
                    "RequiredCount": 1
                }
            }
        },
        "fargate-add-spot": {
            "Containers": {
                "Default": {
                    "Provider": "aws:fargate",
                    "RequiredCount": 1
                },
                "Additional": {
                    "spot": {
                        "Provider": "aws:fargatespot"
                    }
                }
            }
        },
        "fargatespot": {
            "Containers": {
                "Default": {
                    "Provider": "aws:fargatespot",
                    "RequiredCount": 1
                }
            }
        }
    },
    "Product": {
        "cfredirect-v1": {
            "Region": "us-east-1"
        },
        "Builds": {
            "Data": {
                "Environment": "int"
            },
            "Code": {
                "Environment": "int"
            }
        }
    },
    "Segment": {
        "Network": {
            "InternetAccess": true,
            "Tiers": {
                "Order": [
                    "web",
                    "msg",
                    "app",
                    "db",
                    "dir",
                    "ana",
                    "api",
                    "spare",
                    "elb",
                    "ilb",
                    "spare",
                    "spare",
                    "spare",
                    "spare",
                    "spare",
                    "mgmt"
                ]
            },
            "Zones": {
                "Order": [
                    "a",
                    "b",
                    "spare",
                    "spare"
                ]
            }
        },
        "NAT": {
            "Enabled": true,
            "MultiAZ": false,
            "Hosted": true
        },
        "Bastion": {
            "Enabled": true,
            "Active": false,
            "IPAddressGroups": []
        },
        "S3": {
            "IncludeTenant": false
        },
        "RotateKeys": true,
        "Tiers": {
            "Order": [
                "elb",
                "api",
                "web",
                "msg",
                "dir",
                "ilb",
                "app",
                "db",
                "ana",
                "mgmt",
                "docs",
                "gbl",
                "external"
            ]
        }
    },
    "CertificateBehaviours": {
        "External": false,
        "Wildcard": true,
        "IncludeInHost": {
            "Product": false,
            "Segment": false,
            "Tier": false
        },
        "HostParts": [
            "Host",
            "Tier",
            "Component",
            "Instance",
            "Version",
            "Segment",
            "Environment",
            "Product"
        ],
        "Qualifiers": {
            "prod": {
                "IncludeInHost": {
                    "Environment": false
                },
                "IncludeInDomain": {
                    "Environment": false
                }
            }
        }
    },
    "LogFiles": {
        "/var/log/update.log": {
            "FilePath": "/var/log/update.log",
            "TimeFormat": "%b %d %H:%M:%S"
        },
        "/var/log/cfn-init.log": {
            "FilePath": "/var/log/cfn-init.log",
            "TimeFormat": "%b %d %H:%M:%S"
        },
        "/var/log/cfn-init-cmd.log": {
            "FilePath": "/var/log/cfn-init-cmd.log",
            "TimeFormat": "%b %d %H:%M:%S"
        },
        "/var/log/cloud-init.log": {
            "FilePath": "/var/log/cloud-init.log",
            "TimeFormat": "%b %d %H:%M:%S"
        },
        "/var/log/cloud-init-output.log": {
            "FilePath": "/var/log/cloud-init-output.log",
            "TimeFormat": "%b %d %H:%M:%S"
        },
        "/var/log/amazon/ssm/amazon-ssm-agent.log": {
            "FilePath": "/var/log/amazon/ssm/amazon-ssm-agent.log",
            "MultiLinePattern": "^INFO"
        },
        "/var/log/ecs/ecs-init.log": {
            "FilePath": "/var/log/ecs/ecs-init.log",
            "TimeFormat": "%b %d %H:%M:%S"
        },
        "/var/log/ecs/ecs-agent.log": {
            "FilePath": "/var/log/ecs/ecs-agent.log",
            "TimeFormat": "%b %d %H:%M:%S"
        },
        "/var/log/ecs/audit.log": {
            "FilePath": "/var/log/ecs/audit.log",
            "TimeFormat": "%b %d %H:%M:%S"
        },
        "c/ProgramData/Amazon/ECS/log/ecs-init.log": {
            "FilePath": "c:\\ProgramData\\Amazon\\ECS\\log\\ecs-init.log",
            "TimeFormat": "%b %d %H:%M:%S"
        },
        "c/ProgramData/Amazon/ECS/log/ecs-agent.log": {
            "FilePath": "c:\\ProgramData\\Amazon\\ECS\\log\\ecs-agent.log",
            "TimeFormat": "%b %d %H:%M:%S"
        },
        "c/ProgramData/Amazon/ECS/log/audit.log": {
            "FilePath": "c:\\ProgramData\\Amazon\\ECS\\log\\audit.log",
            "TimeFormat": "%b %d %H:%M:%S"
        },
        "c/ProgramData/docker/panic.log": {
          "FilePath": "c:\\ProgramData\\docker\\panic.log",
          "TimeFormat": "%b %d %H:%M:%S"
        },
        "c/ProgramData/Amazon/EC2-Windows/Launch/Log/EC2Launch.log": {
            "FilePath": "c:\\ProgramData\\Amazon\\EC2-Windows\\Launch\\Log\\EC2Launch.log",
            "TimeFormat": "%Y/%m/%d %H:%M:%S%Z:"
        },
        "c/ProgramData/Amazon/EC2-Windows/Launch/Log/UserdataExecution.log": {
            "FilePath": "c:\\ProgramData\\Amazon\\EC2-Windows\\Launch\\Log\\UserdataExecution.log",
            "TimeFormat": "%Y/%m/%d %H:%M:%S%Z:"
        },
        "c/ProgramData/Amazon/AmazonCloudWatchAgent/Logs/amazon-cloudwatch-agent.log": {
            "FilePath": "c:\\ProgramData\\Amazon\\AmazonCloudWatchAgent\\Logs\\amazon-cloudwatch-agent.log",
            "TimeFormat": "%H: %M: %S%y%b%-d"
        },
        "c/ProgramData/Amazon/SSM/Logs/amazon-ssm-agent.log": {
            "FilePath": "c:\\ProgramData\\Amazon\\SSM\\Logs\\amazon-ssm-agent.log",
            "TimeFormat": "%Y-%m-%d %H:%M:%S",
            "MultiLinePattern": "^INFO"
        }
    },
    "LogFileGroups": {
        "aws-ecs": {
            "LogFiles": [
                "/var/log/ecs/ecs-init.log",
                "/var/log/ecs/ecs-agent.log",
                "/var/log/ecs/audit.log"
            ]
        },
        "aws-system": {
            "LogFiles": [
                "/var/log/update.log",
                "/var/log/cfn-init.log",
                "/var/log/cfn-init-cmd.log",
                "/var/log/cloud-init.log",
                "/var/log/cloud-init-output.log",
                "/var/log/amazon/ssm/amazon-ssm-agent.log"
            ]
        },
        "win-ecs": {
            "LogFiles": [
                "c/ProgramData/Amazon/ECS/log/ecs-init.log",
                "c/ProgramData/Amazon/ECS/log/ecs-agent.log",
                "c/ProgramData/Amazon/ECS/log/audit.log"
            ]
        },
        "win-docker": {
          "LogFiles": [
            "c/ProgramData/docker/panic.log"
          ]
        },
        "win-system": {
            "LogFiles": [
                "c/ProgramData/Amazon/EC2-Windows/Launch/Log/EC2Launch.log",
                "c/ProgramData/Amazon/EC2-Windows/Launch/Log/UserdataExecution.log",
                "c/ProgramData/Amazon/AmazonCloudWatchAgent/Logs/amazon-cloudwatch-agent.log",
                "c/ProgramData/Amazon/SSM/Logs/amazon-ssm-agent.log"
            ]
        }
    },
    "LogFileProfiles": {
        "default": {
            "EC2": {
                "LogFileGroups": [
                    "system",
                    "aws-system",
                    "security",
                    "docker"
                ]
            },
            "ComputeCluster": {
                "LogFileGroups": [
                    "system",
                    "aws-system",
                    "security",
                    "docker"
                ]
            },
            "ECS": {
                "LogFileGroups": [
                    "system",
                    "aws-system",
                    "security",
                    "docker",
                    "aws-ecs"
                ]
            },
            "bastion": {
                "LogFileGroups": [
                    "system",
                    "aws-system",
                    "security"
                ]
            }
        },
        "awswinlog": {
            "EC2": {
                "LogFileGroups": [
                    "win-system",
                    "win-docker"
                ]
            },
            "ComputeCluster": {
                "LogFileGroups": [
                    "win-system",
                    "win-docker"
                ]
            },
            "ECS": {
                "LogFileGroups": [
                    "win-system",
                    "win-docker",
                    "win-ecs"
                ]
            },
            "bastion": {
                "LogFileGroups": [
                    "win-system"
                ]
            }
        }
    },
    "CORSProfiles": {
        "S3Write": {
            "AllowedHeaders": [
                "Content-Length",
                "Content-Type",
                "Content-MD5",
                "Authorization",
                "Expect",
                "x-amz-content-sha256",
                "x-amz-security-token"
            ]
        },
        "S3Delete": {
            "AllowedHeaders": [
                "Content-Length",
                "Content-Type",
                "Content-MD5",
                "Authorization",
                "Expect",
                "x-amz-content-sha256",
                "x-amz-security-token"
            ]
        }
    },
    "BootstrapProfiles": {
        "default": {
            "EC2": {
                "Bootstraps": []
            },
            "ECS": {
                "Bootstraps": []
            },
            "ComputeCluster": {
                "Bootstraps": []
            },
            "bastion": {
                "Bootstraps": []
            }
        }
    },
    "LogFilters": {
        "_sns-success": {
            "Pattern": "{ $.status = \"SUCCESS\" }"
        },
        "_sns-failure": {
            "Pattern": "{ $.status = \"FAILURE\" }"
        }
    },
    "DeploymentProfiles": {
        "_frontdoor": {
            "Modes": {
                "maintenance": {
                    "lb": {
                        "PortMappings": {
                            "httpsmaintenance": {
                                "Mapping": "https",
                                "Priority": 50,
                                "Fixed": {
                                    "Message": "This application is currently undergoing scheduled maintenance. Please try again later.",
                                    "ContentType": "text/plain",
                                    "StatusCode": "503"
                                }
                            }
                        }
                    }
                }
            }
        },
        "_hibernate": {
            "Modes": {
                "maintenance": {
                    "ecs": {
                        "Hibernate": {
                            "Enabled": true
                        }
                    },
                    "rds": {
                        "Hibernate": {
                            "Enabled": true
                        }
                    },
                    "cache": {
                        "Hibernate": {
                            "Enabled": true
                        }
                    }
                }
            }
        },
        "_moncpumem": {
            "Modes": {
                "*": {
                    "ecs": {
                        "Alerts": {
                            "HighHostMemoryUsage": {
                                "Description": "High Memory usage on ECS Host cluster",
                                "Name": "HighHostMemoryUsage",
                                "Metric": "MemoryUtilization",
                                "Threshold": 95,
                                "Severity": "Error",
                                "Statistic": "Average",
                                "Periods": 2,
                                "Resource": {
                                    "Type": "ecs"
                                }
                            },
                            "HighHostCPUUsage": {
                                "Description": "High CPU usage on ECS Host cluster",
                                "Name": "HighHostCPUUsage",
                                "Metric": "CPUUtilization",
                                "Threshold": 95,
                                "Severity": "Error",
                                "Statistic": "Average",
                                "Periods": 2,
                                "Resource": {
                                    "Type": "ecs"
                                }
                            }
                        }
                    },
                    "service": {
                        "Alerts": {
                            "HighCPUUsage": {
                                "Description": "Higher than expected CPU usage detected",
                                "Name": "HighCPUUsage",
                                "Metric": "CPUUtilization",
                                "Threshold": 150,
                                "Severity": "Warning",
                                "Statistic": "Average"
                            },
                            "HighMemoryUsage": {
                                "Description": "Higher than expected memory usage detected",
                                "Name": "HighMemoryUsage",
                                "Metric": "MemoryUtilization",
                                "Threshold": 120,
                                "Severity": "Warning",
                                "Statistic": "Average"
                            }
                        }
                    },
                    "rds": {
                        "Alerts": {
                            "HighCPUUsage": {
                                "Description": "Database under high CPU load",
                                "Name": "HighCPUUsage",
                                "Metric": "CPUUtilization",
                                "Threshold": 90,
                                "Severity": "Error",
                                "Statistic": "Average",
                                "Periods": 2
                            },
                            "LowDiskSpace": {
                                "Description": "Database disk space is getting low only 1Gb free",
                                "Name": "LowDiskSpace",
                                "Metric": "FreeStorageSpace",
                                "Threshold": 1024000000,
                                "Severity": "Error",
                                "Statistic": "Maximum",
                                "Periods": 1,
                                "Operator": "LessThanOrEqualToThreshold"
                            }
                        }
                    },
                    "cache": {
                        "Alerts": {
                            "HighCPUUsage": {
                                "Description": "Redis cache under high CPU load",
                                "Name": "HighCPUUsage",
                                "Metric": "EngineCPUUtilization",
                                "Threshold": 90,
                                "Severity": "Error",
                                "Statistic": "Average",
                                "Periods": 2
                            }
                        }
                    }
                }
            }
        },
        "_awslinux2" : {
            "Modes" : {
                "*" : {
                    "ecs" : {
                        "Profiles" : {
                            "Storage" : "ecs_awslinux2"
                        },
                        "ComputeInstance" : {
                            "OperatingSystem" : {
                                "Family" : "linux",
                                "Distribution" : "awslinux",
                                "MajorVersion" : "2"
                            },
                            "Image" : {
                                "Source" : "aws:SSMParam",
                                "aws:Source:SSMParam" : {
                                    "Name" : "/aws/service/ecs/optimized-ami/amazon-linux-2/recommended/image_id"
                                }
                            }
                        }
                    },
                    "computecluster" : {
                        "ComputeInstance" : {
                            "OperatingSystem" : {
                                "Family" : "linux",
                                "Distribution" : "awslinux",
                                "MajorVersion" : "2"
                            },
                            "Image" : {
                                "Source" : "aws:SSMParam",
                                "aws:Source:SSMParam" : {
                                    "Name" : "/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2"
                                }
                            }
                        }
                    },
                    "bastion" : {
                        "ComputeInstance" : {
                            "OperatingSystem" : {
                                "Family" : "linux",
                                "Distribution" : "awslinux",
                                "MajorVersion" : "2"
                            },
                            "Image" : {
                                "Source" : "aws:SSMParam",
                                "aws:Source:SSMParam" : {
                                    "Name" : "/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2"
                                }
                            }
                        }
                    },
                    "ec2" : {
                        "ComputeInstance" : {
                            "OperatingSystem" : {
                                "Family" : "linux",
                                "Distribution" : "awslinux",
                                "MajorVersion" : "2"
                            },
                            "Image" : {
                                "Source" : "aws:SSMParam",
                                "aws:Source:SSMParam" : {
                                    "Name" : "/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2"
                                }
                            }
                        }
                    }
                }
            }
        },
        "_awswin" : {
            "Modes" : {
                "*" : {
                    "ecs" : {
                        "Profiles" : {
                            "Storage" : "ecs_awswin",
                            "LogFile" : "awswinlog",
                            "Processor" : "_awswin"
                        },
                        "AutoScaling": {
                            "StartupTimeout": "20M"
                        },
                        "ComputeInstance" : {
                            "ManagementPorts": [
                                "rdp"
                            ],
                            "OperatingSystem" : {
                                "Family" : "windows",
                                "Distribution" : "awswin",
                                "MajorVersion" : "2019"
                            },
                            "Image" : {
                                "Source" : "aws:SSMParam",
                                "aws:Source:SSMParam" : {
                                    "Name" : "/aws/service/ami-windows-latest/Windows_Server-2019-English-Full-ECS_Optimized/image_id"
                                }
                            },
                            "ComputeTasks": {
                                "Extensions" : [
                                    "_computetask_awscli",
                                    "_computetask_awswin_cfninit_asg",
                                    "_computetask_awswin_cwlog",
                                    "_computetask_awswin_ospatching",
                                    "_computetask_awswin_antivirus",
                                    "_computetask_awswin_userbootstrap",
                                    "_computetask_awswin_hamletenv",
                                    "_computetask_awswin_volumemount",
                                    "_computetask_awswin_filedir",
                                    "_computetask_awswin_ecs",
                                    "_computetask_awswin_eip",
                                    "_computetask_awswin_notavailable"
                                ]
                            }
                        }
                    },
                    "computecluster" : {
                        "Profiles" : {
                            "Storage" : "ec2_awswin",
                            "LogFile" : "awswinlog",
                            "Processor" : "_awswin"
                        },
                        "StartupTimeout": 900,
                        "ComputeInstance" : {
                            "ManagementPorts": [
                                "rdp"
                            ],
                            "OperatingSystem" : {
                                "Family" : "windows",
                                "Distribution" : "awswin",
                                "MajorVersion" : "2019"
                            },
                            "Image" : {
                                "Source" : "aws:SSMParam",
                                "aws:Source:SSMParam" : {
                                    "Name" : "/aws/service/ami-windows-latest/Windows_Server-2019-English-Full-Base"
                                }
                            },
                            "ComputeTasks": {
                                "Extensions" : [
                                    "_computetask_awscli",
                                    "_computetask_awswin_cfninit_asg",
                                    "_computetask_awswin_cwlog",
                                    "_computetask_awswin_ospatching",
                                    "_computetask_awswin_antivirus",
                                    "_computetask_awswin_userbootstrap",
                                    "_computetask_awswin_hamletenv",
                                    "_computetask_awswin_volumemount",
                                    "_computetask_awswin_filedir",
                                    "_computetask_awswin_scriptsdeployment",
                                    "_computetask_awswin_vpc_lb",
                                    "_computetask_awswin_notavailable"
                                ]
                            }
                        }
                    },
                    "bastion" : {
                        "Profiles" : {
                            "Storage" : "ec2_awswin",
                            "LogFile" : "awswinlog",
                            "Processor" : "_awswin"
                        },
                        "StartupTimeout": 900,
                        "ComputeInstance" : {
                            "ManagementPorts": [
                                "rdp"
                            ],
                            "OperatingSystem" : {
                                "Family" : "windows",
                                "Distribution" : "awswin",
                                "MajorVersion" : "2019"
                            },
                            "Image" : {
                                "Source" : "aws:SSMParam",
                                "aws:Source:SSMParam" : {
                                    "Name" : "/aws/service/ami-windows-latest/Windows_Server-2019-English-Full-Base"
                                }
                            },
                            "ComputeTasks": {
                                "Extensions" : [
                                    "_computetask_awscli",
                                    "_computetask_awswin_cfninit_asg",
                                    "_computetask_awswin_cwlog",
                                    "_computetask_awswin_ospatching",
                                    "_computetask_awswin_antivirus",
                                    "_computetask_awswin_userbootstrap",
                                    "_computetask_awswin_hamletenv",
                                    "_computetask_awswin_volumemount",
                                    "_computetask_awswin_filedir",
                                    "_computetask_awswin_eip",
                                    "_computetask_awswin_notavailable"
                                ]
                            }
                        }
                    },
                    "ec2" : {
                        "Profiles" : {
                            "Storage" : "ec2_awswin",
                            "LogFile" : "awswinlog",
                            "Processor" : "_awswin"
                        },
                        "StartupTimeout": 900,
                        "ComputeInstance" : {
                            "ManagementPorts": [
                                "rdp"
                            ],
                            "OperatingSystem" : {
                                "Family" : "windows",
                                "Distribution" : "awswin",
                                "MajorVersion" : "2019"
                            },
                            "Image" : {
                                "Source" : "aws:SSMParam",
                                "aws:Source:SSMParam" : {
                                    "Name" : "/aws/service/ami-windows-latest/Windows_Server-2019-English-Full-Base"
                                }
                            },
                            "ComputeTasks": {
                                "Extensions" : [
                                    "_computetask_awscli",
                                    "_computetask_awswin_cfninit_wait",
                                    "_computetask_awswin_cwlog",
                                    "_computetask_awswin_ospatching",
                                    "_computetask_awswin_antivirus",
                                    "_computetask_awswin_userbootstrap",
                                    "_computetask_awswin_hamletenv",
                                    "_computetask_awswin_volumemount",
                                    "_computetask_awswin_filedir",
                                    "_computetask_awswin_vpc_lb",
                                    "_computetask_awswin_notavailable"
                                ]
                            }
                        }
                    }
                }
            }
        }
    },
    "PlacementProfiles": {
        "default": {
            "default": {
                "Provider": "aws",
                "Region": "ap-southeast-2",
                "DeploymentFramework": "cf"
            }
        }
    },
    "NetworkEndpointGroups": {
        "compute": {
            "Services": [
                "ec2",
                "ec2messages",
                "logs",
                "elasticloadbalancing",
                "monitoring"
            ]
        },
        "security": {
            "Services": [
                "kms",
                "logs"
            ]
        },
        "configurationMgmt": {
            "Services": [
                "ssm",
                "ssmmessages"
            ]
        },
        "ecs": {
            "Services": [
                "ecs",
                "ecs-agent",
                "ecs-telemetry",
                "ecr.api",
                "ecr.dkr"
            ]
        },
        "serverless": {
            "Services": [
                "sns",
                "sqs",
                "execute-api"
            ]
        },
        "logs": {
            "Services": [
                "logs"
            ]
        },
        "storage": {
            "Services": [
                "s3",
                "dynamodb"
            ]
        }
    },
    "NetworkProfiles": {
        "default": {
            "BaseSecurityGroup": {
                "Links": {
                    "sshBastion": {
                        "Tier": "mgmt",
                        "Component": "ssh",
                        "Instance": "",
                        "Version": "",
                        "Direction": "inbound",
                        "Role": "networkacl"
                    }
                }
            }
        }
    },
    "BaselineProfiles": {
        "default": {
            "OpsData": "opsdata",
            "AppData": "appdata",
            "Encryption": "cmk",
            "SSHKey": "ssh",
            "CDNOriginKey": "oai"
        }
    },
    "DeploymentGroups": {
        "account": {
            "Level": "",
            "Priority": 10,
            "DistrictType" : "account",
            "ResourceSets": {
                "iam": {
                    "deployment:Unit": "iam",
                    "deployment:Priority" : 10,
                    "ResourceLabels": [
                        "iam"
                    ]
                },
                "cmk" : {
                    "deployment:Unit" : "cmk",
                    "deployment:Priority" : 20,
                    "GroupDeploymentUnit" : false
                },
                "lg": {
                    "deployment:Unit": "lg",
                    "deployment:Priority" : 30,
                    "ResourceLabels": [
                        "lg"
                    ]
                },
                "audit" : {
                    "deployment:Unit" : "audit",
                    "deployment:Priority" : 40,
                    "GroupDeploymentUnit" : false
                },
                "s3replica" : {
                    "deployment:Unit" : "s3replica",
                    "deployment:Priority" : 45,
                    "GroupDeploymentUnit" : false,
                    "Enabled": false
                },
                "s3" : {
                    "deployment:Unit" : "s3",
                    "deployment:Priority" : 50,
                    "GroupDeploymentUnit" : false
                },
                "apigateway" : {
                    "deployment:Unit" : "apigateway",
                    "deployment:Priority" : 100,
                    "GroupDeploymentUnit" : false
                },
                "console" : {
                    "deployment:Unit" : "console",
                    "deployment:Priority" : 100,
                    "GroupDeploymentUnit" : false
                },
                "directory" : {
                    "deployment:Unit" : "directory",
                    "deployment:Priority" : 100,
                    "GroupDeploymentUnit" : false
                },
                "ecs" : {
                    "deployment:Unit" : "ecs",
                    "deployment:Priority" : 100,
                    "GroupDeploymentUnit" : false
                },
                "sesruleset" : {
                    "deployment:Unit" : "sesruleset",
                    "deployment:Priority" : 100,
                    "GroupDeploymentUnit" : false
                },
                "sms" : {
                    "deployment:Unit" : "sms",
                    "deployment:Priority" : 100,
                    "GroupDeploymentUnit" : false
                },
                "volumeencrypt" : {
                    "deployment:Unit" : "volumeencrypt",
                    "deployment:Priority" : 100,
                    "GroupDeploymentUnit" : false
                }
            },
            "CompositeTemplate": "accountTemplate"
        },
        "segment": {
            "ResourceSets": {
                "iam": {
                    "deployment:Unit": "iam",
                    "deployment:Priority": 20,
                    "ResourceLabels": [
                        "iam"
                    ]
                },
                "lg": {
                    "deployment:Unit": "lg",
                    "deployment:Priority": 20,
                    "ResourceLabels": [
                        "lg"
                    ]
                },
                "eip": {
                    "deployment:Unit": "eip",
                    "deployment:Priority": 45,
                    "ResourceLabels": [
                        "eip"
                    ]
                },
                "s3": {
                    "deployment:Unit": "s3",
                    "deployment:Priority": 30,
                    "ResourceLabels": [
                        "s3"
                    ]
                },
                "cmk": {
                    "deployment:Unit": "cmk",
                    "deployment:Priority": 10,
                    "ResourceLabels": [
                        "cmk"
                    ]
                }
            }
        },
        "solution": {
            "ResourceSets": {
                "eip": {
                    "deployment:Unit": "eip",
                    "ResourceLabels": [
                        "eip"
                    ]
                },
                "iam": {
                    "deployment:Unit": "iam",
                    "ResourceLabels": [
                        "iam"
                    ]
                },
                "lg": {
                    "deployment:Unit": "lg",
                    "ResourceLabels": [
                        "lg"
                    ]
                }
            }
        },
        "application": {
            "ResourceSets": {
                "iam": {
                    "deployment:Unit": "iam",
                    "ResourceLabels": [
                        "iam"
                    ]
                },
                "lg": {
                    "deployment:Unit": "lg",
                    "ResourceLabels": [
                        "lg"
                    ]
                }
            }
        }
    },
    "ServiceRoles": {
        "apigateway": {
            "Enabled": true,
            "ServiceName": "ops.apigateway.amazonaws.com",
            "Description": "The Service Linked Role is used by Amazon API Gateway."
        },
        "autoscaling": {
            "Enabled": true,
            "ServiceName": "autoscaling.amazonaws.com",
            "Description": "Default Service-Linked Role enables access to AWS Services and Resources used or managed by Auto Scaling"
        },
        "ecs": {
            "Enabled": true,
            "ServiceName": "ecs.amazonaws.com",
            "Description": "Role to enable Amazon ECS to manage your cluster."
        },
        "es": {
            "Enabled": true,
            "ServiceName": "es.amazonaws.com"
        }
    }
}
